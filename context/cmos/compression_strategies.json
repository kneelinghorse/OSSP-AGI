{
  "version": "2.1.0",
  "description": "State-aware compression strategies for zone-based context compression",
  "metadata": {
    "created": "2025-09-26",
    "mission": "2.1 - Metric-Driven Compression",
    "integration": ["Mission 1.2 ContextStateVector", "Mission 1.2 ViabilityRegions"]
  },

  "zones": {
    "optimal": {
      "name": "Optimal Zone Light Compression",
      "description": "Light compression preserving detail in optimal performance zone",
      "targetRatio": 1.2,
      "strategy": {
        "compressionRatio": 0.8,
        "preserveDetails": true,
        "enableTemporalCompression": true,
        "stableCompressionRatio": 0.9,
        "emergencyThreshold": 0.95,
        "centralityPreservation": true
      },
      "phases": [
        {
          "name": "redundancy_removal",
          "weight": 0.3,
          "techniques": ["duplicate_removal", "whitespace_optimization", "structural_cleanup"]
        },
        {
          "name": "stable_domain_optimization",
          "weight": 0.4,
          "techniques": ["temporal_analysis", "hysteresis_based_removal"]
        },
        {
          "name": "selective_detail_preservation",
          "weight": 0.3,
          "techniques": ["centrality_scoring", "active_domain_priority"]
        }
      ],
      "preservation": {
        "active_domains": 1.0,
        "critical_facts": 0.95,
        "decisions_made": 0.9,
        "files_created": 0.9,
        "session_metadata": 1.0
      }
    },

    "viable": {
      "name": "Viable Zone Moderate Compression",
      "description": "Moderate compression maintaining essential functionality",
      "targetRatio": 2.5,
      "strategy": {
        "compressionRatio": 0.6,
        "preserveDetails": false,
        "enableTemporalCompression": true,
        "stableCompressionRatio": 0.7,
        "emergencyThreshold": 0.8,
        "centralityPreservation": true
      },
      "phases": [
        {
          "name": "temporal_compression",
          "weight": 0.4,
          "techniques": ["stable_section_removal", "hysteresis_analysis", "momentum_based_filtering"]
        },
        {
          "name": "centrality_based_pruning",
          "weight": 0.3,
          "techniques": ["low_centrality_removal", "dependency_analysis"]
        },
        {
          "name": "domain_consolidation",
          "weight": 0.3,
          "techniques": ["inactive_domain_compression", "fact_deduplication"]
        }
      ],
      "preservation": {
        "active_domains": 0.8,
        "critical_facts": 0.7,
        "decisions_made": 0.6,
        "files_created": 0.8,
        "session_metadata": 1.0
      }
    },

    "warning": {
      "name": "Warning Zone Aggressive Compression",
      "description": "Aggressive compression preserving only essential elements",
      "targetRatio": 4.0,
      "strategy": {
        "compressionRatio": 0.4,
        "preserveDetails": false,
        "enableTemporalCompression": true,
        "stableCompressionRatio": 0.3,
        "emergencyThreshold": 0.6,
        "centralityPreservation": true
      },
      "phases": [
        {
          "name": "aggressive_temporal_pruning",
          "weight": 0.5,
          "techniques": ["extensive_stable_removal", "momentum_threshold_filtering", "complexity_reduction"]
        },
        {
          "name": "centrality_focus",
          "weight": 0.3,
          "techniques": ["high_centrality_only", "critical_path_preservation"]
        },
        {
          "name": "essential_core_extraction",
          "weight": 0.2,
          "techniques": ["core_facts_only", "active_session_focus"]
        }
      ],
      "preservation": {
        "active_domains": 0.5,
        "critical_facts": 0.4,
        "decisions_made": 0.3,
        "files_created": 0.6,
        "session_metadata": 1.0
      },
      "thresholds": {
        "min_facts_per_domain": 2,
        "min_decisions_per_domain": 1,
        "max_inactive_domains": 2
      }
    },

    "critical": {
      "name": "Critical Zone Emergency Compression",
      "description": "Emergency compression maintaining minimal viable context",
      "targetRatio": 6.0,
      "strategy": {
        "compressionRatio": 0.2,
        "preserveDetails": false,
        "enableTemporalCompression": false,
        "stableCompressionRatio": 0.1,
        "emergencyThreshold": 0.4,
        "centralityPreservation": true
      },
      "phases": [
        {
          "name": "emergency_core_extraction",
          "weight": 0.6,
          "techniques": ["minimal_viable_context", "session_critical_only", "active_domain_core"]
        },
        {
          "name": "centrality_emergency_filter",
          "weight": 0.3,
          "techniques": ["top_centrality_only", "critical_dependencies_only"]
        },
        {
          "name": "metadata_preservation",
          "weight": 0.1,
          "techniques": ["session_count_only", "timestamp_preservation"]
        }
      ],
      "preservation": {
        "active_domains": 0.3,
        "critical_facts": 0.2,
        "decisions_made": 0.1,
        "files_created": 0.4,
        "session_metadata": 1.0
      },
      "thresholds": {
        "min_facts_per_domain": 1,
        "min_decisions_per_domain": 0,
        "max_inactive_domains": 1,
        "max_total_domains": 3
      }
    },

    "crisis": {
      "name": "Crisis Zone Maximum Compression",
      "description": "Maximum compression preserving only core system state",
      "targetRatio": 10.0,
      "strategy": {
        "compressionRatio": 0.1,
        "preserveDetails": false,
        "enableTemporalCompression": false,
        "stableCompressionRatio": 0.05,
        "emergencyThreshold": 0.2,
        "centralityPreservation": false
      },
      "phases": [
        {
          "name": "crisis_core_only",
          "weight": 1.0,
          "techniques": ["absolute_minimum", "session_identity_only", "active_domain_names_only"]
        }
      ],
      "preservation": {
        "active_domains": 0.1,
        "critical_facts": 0.1,
        "decisions_made": 0.0,
        "files_created": 0.2,
        "session_metadata": 1.0
      },
      "thresholds": {
        "min_facts_per_domain": 1,
        "min_decisions_per_domain": 0,
        "max_inactive_domains": 0,
        "max_total_domains": 1
      },
      "emergency_core": {
        "required_fields": [
          "working_memory.session_count",
          "working_memory.last_session",
          "working_memory.domains[active].status",
          "working_memory.domains[active].critical_facts[0]"
        ]
      }
    }
  },

  "techniques": {
    "duplicate_removal": {
      "description": "Remove duplicate facts and decisions across domains",
      "implementation": "hash_based_deduplication",
      "preserves_semantics": true,
      "compression_impact": "low"
    },

    "whitespace_optimization": {
      "description": "Optimize JSON structure and remove unnecessary whitespace",
      "implementation": "json_minification",
      "preserves_semantics": true,
      "compression_impact": "low"
    },

    "temporal_analysis": {
      "description": "Analyze temporal patterns using hysteresis metrics",
      "implementation": "state_vector_history_analysis",
      "preserves_semantics": true,
      "compression_impact": "medium",
      "requires": ["ContextStateVector.history", "hysteresis_metrics"]
    },

    "centrality_scoring": {
      "description": "Score domains by centrality for preservation priority",
      "implementation": "domain_relationship_analysis",
      "preserves_semantics": true,
      "compression_impact": "medium",
      "requires": ["domain_dependencies", "activity_metrics"]
    },

    "momentum_based_filtering": {
      "description": "Filter content based on momentum metrics",
      "implementation": "velocity_threshold_filtering",
      "preserves_semantics": false,
      "compression_impact": "high",
      "requires": ["ContextStateVector.calculateVelocity"]
    },

    "complexity_reduction": {
      "description": "Reduce complexity while maintaining core functionality",
      "implementation": "complexity_metric_guided_pruning",
      "preserves_semantics": false,
      "compression_impact": "high",
      "requires": ["complexity_metrics"]
    }
  },

  "adaptive_parameters": {
    "trajectory_multipliers": {
      "degrading": {
        "description": "More aggressive compression when system is degrading",
        "intensity_multiplier": 1.2,
        "centrality_threshold": 0.8
      },
      "stable": {
        "description": "Standard compression for stable systems",
        "intensity_multiplier": 1.0,
        "centrality_threshold": 0.7
      },
      "improving": {
        "description": "Less aggressive compression when system is improving",
        "intensity_multiplier": 0.8,
        "centrality_threshold": 0.6
      }
    },

    "performance_thresholds": {
      "max_processing_time_ms": 50,
      "target_relevance_score": 0.9,
      "min_compression_ratio": 1.1,
      "emergency_compression_threshold": 0.2
    },

    "quality_metrics": {
      "dimension_preservation_weights": {
        "Form": 0.25,
        "Function": 0.4,
        "Behavior": 0.2,
        "Context": 0.15
      },
      "minimum_dimension_preservation": 0.6,
      "viability_maintenance_required": true
    }
  },

  "fallback_strategies": {
    "compression_failure": {
      "action": "apply_emergency_compression",
      "max_retries": 2,
      "fallback_ratio": 5.0
    },

    "relevance_too_low": {
      "action": "reduce_compression_intensity",
      "min_acceptable_relevance": 0.7,
      "intensity_reduction": 0.2
    },

    "processing_timeout": {
      "action": "apply_simplified_compression",
      "timeout_ms": 100,
      "simplified_techniques": ["duplicate_removal", "whitespace_optimization"]
    }
  },

  "validation_rules": {
    "required_fields": [
      "working_memory",
      "working_memory.session_count",
      "working_memory.domains"
    ],

    "minimum_preservation": {
      "active_domains": "at_least_one",
      "critical_facts": "at_least_one_per_active_domain",
      "session_metadata": "complete"
    },

    "quality_gates": {
      "compression_ratio": {"min": 1.1, "max": 15.0},
      "relevance_score": {"min": 0.6},
      "processing_time": {"max": 50},
      "viability_maintained": true
    }
  }
}
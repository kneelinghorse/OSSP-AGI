
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for app/packages/protocols/src/Integration Protocol — v1.1.1.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../index.html">All files</a> / <a href="index.html">app/packages/protocols/src</a> Integration Protocol — v1.1.1.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">44.61% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>116/260</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">40.14% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>110/274</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">37.28% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>22/59</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">51.17% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>87/170</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">350x</span>
<span class="cline-any cline-yes">184x</span>
<span class="cline-any cline-yes">259x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">28x</span>
<span class="cline-any cline-yes">4662x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-yes">27x</span>
<span class="cline-any cline-yes">27x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">18x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * Integration Protocol — v1.1.1 (stand-alone)
 * Minimal, self-describing integration manifest + helpers
 *
 * Goals
 * - Mirror family ergonomics: manifest + validate + query + diff + generate
 * - Keep it tiny; add essentials only: endpoints, mappings, schedule/stream, retries, governance
 * - Zero dependencies; no external wiring
 *
 * Cross-protocol linkage via URNs:
 * - API endpoints (producer/consumer)   → urn:proto:api:service@x.y.z#/path
 * - Data datasets/fields                → urn:proto:data:dataset@x.y.z#field
 * - Events (topics/payload props)       → urn:proto:event:name@x.y.z#payload.foo
 * - Workflows (invoked/observed)        → urn:proto:workflow:id@x.y.z
 * - UI/Components (emitting/receiving)  → urn:proto:ui:Component@x.y.z#props.bar
 * - Infra host (where runners live)     → urn:proto:infra:resource@x.y.z
 */
&nbsp;
// ————————————————————————————————————————————————————————————————
// Utilities (tiny, shared style)
// ————————————————————————————————————————————————————————————————
function jsonCanon(v){ if(v===null||typeof v!=='object') return JSON.stringify(v);
  if(Array.isArray(v)) return '['+v.map(jsonCanon).join(',')+']';
  const k=Object.keys(v).sort(); return '{'+k.map(x=&gt;JSON.stringify(x)+':'+jsonCanon(v[x])).join(',')+'}'; }
function dget(o,p){ <span class="missing-if-branch" title="if path not taken" >I</span>if(!p) <span class="cstat-no" title="statement not covered" >return o; </span>const parts=String(p).replace(/\[(\d+)\]/g,'.$1').split('.'); let cur=o; for(const k of parts){ <span class="missing-if-branch" title="if path not taken" >I</span>if(cur==null) <span class="cstat-no" title="statement not covered" >return; </span>cur=cur[k]; } return cur; }
function <span class="fstat-no" title="function not covered" >dset(</span>o,p,v){ const parts=<span class="cstat-no" title="statement not covered" >String(p).split('.');</span> let cur=<span class="cstat-no" title="statement not covered" >o;</span> <span class="cstat-no" title="statement not covered" >while(parts.length&gt;1){ const k=<span class="cstat-no" title="statement not covered" >parts.shift();</span> <span class="cstat-no" title="statement not covered" >if(!(k in cur)||typeof cur[k]!=='object') <span class="cstat-no" title="statement not covered" >cur[k]={}; <span class="cstat-no" title="statement not covered" ></span></span>cur=cur[k]; </span>} <span class="cstat-no" title="statement not covered" ></span>cur[parts[0]]=v; </span>}
const clone=x=&gt;JSON.parse(JSON.stringify(x));
function hash(v){ const s=jsonCanon(v); let h=BigInt('0xcbf29ce484222325'); const p=BigInt('0x100000001b3'); for(let i=0;i&lt;s.length;i++){ h^=BigInt(s.charCodeAt(i)); h=(h*p)&amp;BigInt('0xFFFFFFFFFFFFFFFF'); } return 'fnv1a64-'+h.toString(16).padStart(16,'0'); }
const isURN = s =&gt; typeof s==='string' &amp;&amp; /^urn:proto:[a-z]+:[a-zA-Z0-9._-]+@[\d.]+(#[^#\s]+)?$/.test(s);
&nbsp;
// ————————————————————————————————————————————————————————————————
// Manifest shape (informative JSDoc)
// ————————————————————————————————————————————————————————————————
/**
 * @typedef {Object} IntegrationManifest
 * @property {Object} integration
 * @property {string} integration.id
 * @property {string} integration.name
 * @property {'pull'|'push'|'bidirectional'} integration.direction
 * @property {'batch'|'stream'} integration.mode
 * @property {{status:'defined'|'enabled'|'paused'|'deprecated'}} [integration.lifecycle]
 *
 * @property {Object} source               // where data/events/requests originate
 * @property {{api?:string,event?:string,data?:string,ui?:string}} source.kind_urns
 * @property {Array&lt;{urn:string, alias?:string}&gt;} [source.fields]
 * @property {string} [source.filter_expression]     // optional (doc-only)
 *
 * @property {Object} destination          // where data/events/requests go
 * @property {{api?:string,event?:string,data?:string,ui?:string}} destination.kind_urns
 * @property {Array&lt;{urn:string, alias?:string}&gt;} [destination.fields]
 *
 * @property {Object} mapping              // field/shape mapping &amp; transforms
 * @property {Array&lt;{from:string,to:string,transform?:string,required?:boolean}&gt;} mapping.rules
 * @property {{dedupe_key?:string, idempotency?:'none'|'key'|'hash'}} [mapping.ingestion]
 *
 * @property {Object} [agentMapping]       // agent-to-agent communication mapping
 * @property {{enabled:boolean, preserveHistory?:boolean}} [agentMapping.conversationContext]
 * @property {Array&lt;{sourceArtifact:string, destinationInput:string, transformation?:string}&gt;} [agentMapping.artifactMapping]
 * @property {{mode:'sequential'|'parallel', errorHandling?:'compensate'|'fail'}} [agentMapping.taskChaining]
 *
 * @property {Object} transport            // how it runs
 * @property {{schedule?:'cron'|'hourly'|'daily'|'none', expression?:string}} [transport.batch]
 * @property {{broker?:'kafka'|'pubsub'|'sqs'|'webhook', topic?:string, consumer_group?:string}} [transport.stream]
 * @property {{retries?:number, backoff?:'none'|'linear'|'exponential', dlq?:string}} [transport.reliability]
 * @property {{timeout?:string, rate_limit?:string}} [transport.sla]  // e.g., '30s', '1000/m'
 *
 * @property {Object} governance
 * @property {{classification?:'internal'|'confidential'|'pii', encryption?:'none'|'in-transit'|'end-to-end'}} [governance.policy]
 *
 * @property {Object} relationships
 * @property {string[]} [relationships.invokes_workflows]    // URNs
 * @property {string[]} [relationships.observes_workflows]   // URNs
 * @property {string[]} [relationships.infra_hosts]          // URNs of infra where runner lives
 *
 * @property {Object} [metadata]
 * @property {string} [metadata.owner]
 * @property {string[]} [metadata.tags]
 */
&nbsp;
// ————————————————————————————————————————————————————————————————
// Validator registry (pluggable, zero-deps)
// ————————————————————————————————————————————————————————————————
const Validators = new Map();
function registerValidator(name, fn){ Validators.set(name, fn); }
function runValidators(manifest, selected=<span class="branch-0 cbranch-no" title="branch not covered" >[])</span>{
  const names = selected.length ? selected : Array.from(Validators.keys());
  const results = names.map(n =&gt; ({ name:n, ...(Validators.get(n)?.(manifest)||<span class="branch-1 cbranch-no" title="branch not covered" >{ok:true})</span> }));
  return { ok: results.every(r=&gt;r.ok), results };
}
&nbsp;
// Built-ins — aligned to your suite’s style
registerValidator('core.shape',(m)=&gt;{
  const issues=[];
  <span class="missing-if-branch" title="if path not taken" >I</span>if(!m?.integration?.id) <span class="cstat-no" title="statement not covered" >issues.push({path:'integration.id', msg:'required', level:'error'});</span>
  <span class="missing-if-branch" title="if path not taken" >I</span>if(!m?.integration?.name) <span class="cstat-no" title="statement not covered" >issues.push({path:'integration.name', msg:'required', level:'error'});</span>
  <span class="missing-if-branch" title="if path not taken" >I</span>if(!['pull','push','bidirectional'].includes(m?.integration?.direction)) <span class="cstat-no" title="statement not covered" >issues.push({path:'integration.direction', msg:'invalid', level:'error'});</span>
  <span class="missing-if-branch" title="if path not taken" >I</span>if(!['batch','stream'].includes(m?.integration?.mode)) <span class="cstat-no" title="statement not covered" >issues.push({path:'integration.mode', msg:'invalid', level:'error'});</span>
  // minimal endpoints
  <span class="missing-if-branch" title="if path not taken" >I</span>if(!m?.source?.kind_urns || !Object.values(m.source.kind_urns||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>.some(Boolean))
<span class="cstat-no" title="statement not covered" >    issues.push({path:'source.kind_urns', msg:'at least one source URN required', level:'error'});</span>
  <span class="missing-if-branch" title="if path not taken" >I</span>if(!m?.destination?.kind_urns || !Object.values(m.destination.kind_urns||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>.some(Boolean))
<span class="cstat-no" title="statement not covered" >    issues.push({path:'destination.kind_urns', msg:'at least one destination URN required', level:'error'});</span>
  return { ok:issues.length===0, issues };
});
&nbsp;
registerValidator('urn.formats',(m)=&gt;{
  const issues=[];
  function checkURNDict(dict, base){
    for(const [k,v] of Object.entries(dict||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>){
      <span class="missing-if-branch" title="if path not taken" >I</span>if(v &amp;&amp; !isURN(v)) <span class="cstat-no" title="statement not covered" >issues.push({path:`${base}.${k}`, msg:'invalid URN', level:'error'});</span>
    }
  }
  checkURNDict(m?.source?.kind_urns, 'source.kind_urns');
  checkURNDict(m?.destination?.kind_urns, 'destination.kind_urns');
  for(const arrPath of ['source.fields','destination.fields']){
    for(const [i,f] of (dget(m,arrPath)||[]).entries()){
      <span class="missing-if-branch" title="if path not taken" >I</span>if(!isURN(f.urn)) <span class="cstat-no" title="statement not covered" >issues.push({path:`${arrPath}[${i}].urn`, msg:'invalid field URN', level:'error'});</span>
    }
  }
  for(const [i,u] of (m?.relationships?.infra_hosts||[]).entries()){
    <span class="missing-if-branch" title="if path not taken" >I</span>if(!isURN(u)) <span class="cstat-no" title="statement not covered" >issues.push({path:`relationships.infra_hosts[${i}]`, msg:'invalid URN', level:'error'});</span>
  }
  return { ok:issues.length===0, issues };
});
&nbsp;
// mapping sanity (presence, required flags)
registerValidator('mapping.rules',(m)=&gt;{
  const issues=[]; const rules=m?.mapping?.rules||<span class="branch-1 cbranch-no" title="branch not covered" >[];</span>
  <span class="missing-if-branch" title="if path not taken" >I</span>if(rules.length===0) <span class="cstat-no" title="statement not covered" >issues.push({path:'mapping.rules', msg:'at least one mapping rule required', level:'error'});</span>
  for(const [i,r] of rules.entries()){
    <span class="missing-if-branch" title="if path not taken" >I</span>if(!r.from || !r.to) <span class="cstat-no" title="statement not covered" >issues.push({path:`mapping.rules[${i}]`, msg:'from/to required', level:'error'});</span>
  }
  return { ok:issues.length===0, issues };
});
&nbsp;
// transport sanity: schedule/stream config + retry shape
registerValidator('transport.config',(m)=&gt;{
  const issues=[]; const t=m?.transport||<span class="branch-1 cbranch-no" title="branch not covered" >{};</span>
  if(m.integration?.mode==='batch'){
    const b=t.batch||<span class="branch-1 cbranch-no" title="branch not covered" >{};</span> <span class="missing-if-branch" title="if path not taken" >I</span>if((b.schedule &amp;&amp; !['cron','hourly','daily','none'].includes(b.schedule))) <span class="cstat-no" title="statement not covered" >issues.push({path:'transport.batch.schedule', msg:'invalid schedule', level:'error'});</span>
    <span class="missing-if-branch" title="if path not taken" >I</span>if(b.schedule==='cron' &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >!b.expression)</span> <span class="cstat-no" title="statement not covered" >issues.push({path:'transport.batch.expression', msg:'cron expression required', level:'error'});</span>
  }
  if(m.integration?.mode==='stream'){
    const s=t.stream||<span class="branch-1 cbranch-no" title="branch not covered" >{};</span> <span class="missing-if-branch" title="if path not taken" >I</span>if(!s.broker) <span class="cstat-no" title="statement not covered" >issues.push({path:'transport.stream.broker', msg:'broker required', level:'error'});</span>
  }
  const r=t.reliability||{}; <span class="missing-if-branch" title="if path not taken" >I</span>if(r.retries!=null &amp;&amp; r.retries&lt;0) <span class="cstat-no" title="statement not covered" >issues.push({path:'transport.reliability.retries', msg:'non-negative', level:'error'});</span>
  <span class="missing-if-branch" title="if path not taken" >I</span>if(r.backoff &amp;&amp; !['none','linear','exponential'].includes(r.backoff)) <span class="cstat-no" title="statement not covered" >issues.push({path:'transport.reliability.backoff', msg:'invalid', level:'error'});</span>
  return { ok:issues.length===0, issues };
});
&nbsp;
// governance parity w/ Data &amp; Event protocols
registerValidator('governance.pii_policy',(m)=&gt;{
  const issues=[];
  const anyPIIish = [...(m?.source?.fields||[]), ...(m?.destination?.fields||[])]
    .some(f=&gt;/#(email|ssn|address|phone|user_id)\b/i.test(f.urn||<span class="branch-1 cbranch-no" title="branch not covered" >'')</span>);
  <span class="missing-if-branch" title="if path not taken" >I</span>if(anyPIIish &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >m?.governance?.policy?.classification!=='pii')</span>
<span class="cstat-no" title="statement not covered" >    issues.push({path:'governance.policy.classification', msg:'PII-like fields present → classification should be "pii"', level:'warn'});</span>
  return { ok:issues.length===0, issues };
});
&nbsp;
// agentMapping.consistency — comprehensive agent-to-agent mapping validation
registerValidator('agentMapping.consistency', m=&gt;{
  const issues=[]; const am=m?.agentMapping; if(!am) return {ok:true};
&nbsp;
  // Validate conversationContext config
  if(am.conversationContext){
    if(typeof am.conversationContext.enabled!=='boolean')
      issues.push({path:'agentMapping.conversationContext.enabled', msg:'boolean required', level:'error'});
    if(am.conversationContext.preserveHistory!=null &amp;&amp; typeof am.conversationContext.preserveHistory!=='boolean')
      issues.push({path:'agentMapping.conversationContext.preserveHistory', msg:'boolean required', level:'error'});
  }
&nbsp;
  // Validate artifactMapping array — ensure source/dest are valid URNs
  if(am.artifactMapping){
    if(!Array.isArray(am.artifactMapping))
      issues.push({path:'agentMapping.artifactMapping', msg:'must be array', level:'error'});
    else {
      for(const [i,mapping] of am.artifactMapping.entries()){
        if(!mapping.sourceArtifact || !mapping.destinationInput)
          issues.push({path:`agentMapping.artifactMapping[${i}]`, msg:'sourceArtifact and destinationInput required', level:'error'});
        // Optionally validate URN format if they look like URNs
        if(mapping.sourceArtifact &amp;&amp; mapping.sourceArtifact.startsWith('urn:') &amp;&amp; !isURN(mapping.sourceArtifact))
          issues.push({path:`agentMapping.artifactMapping[${i}].sourceArtifact`, msg:'invalid URN format', level:'warn'});
        <span class="missing-if-branch" title="if path not taken" >I</span>if(mapping.destinationInput &amp;&amp; mapping.destinationInput.startsWith('urn:') &amp;&amp; !isURN(mapping.destinationInput))
<span class="cstat-no" title="statement not covered" >          issues.push({path:`agentMapping.artifactMapping[${i}].destinationInput`, msg:'invalid URN format', level:'warn'});</span>
      }
    }
  }
&nbsp;
  // Validate taskChaining mode/errorHandling
  if(am.taskChaining){
    if(!am.taskChaining.mode || !['sequential','parallel'].includes(am.taskChaining.mode))
      issues.push({path:'agentMapping.taskChaining.mode', msg:'mode must be "sequential" or "parallel"', level:'error'});
    if(am.taskChaining.errorHandling &amp;&amp; !['compensate','fail'].includes(am.taskChaining.errorHandling))
      issues.push({path:'agentMapping.taskChaining.errorHandling', msg:'errorHandling must be "compensate" or "fail"', level:'error'});
  }
&nbsp;
  return { ok:issues.length===0, issues };
});
&nbsp;
// ————————————————————————————————————————————————————————————————
// Query language (:=: contains &gt; &lt; &gt;= &lt;=) — mirrors family
// ————————————————————————————————————————————————————————————————
function <span class="fstat-no" title="function not covered" >query(</span>manifest, expr){
  const [rawPath,op,...rest]=<span class="cstat-no" title="statement not covered" >String(expr).split(':');</span> const rhs=<span class="cstat-no" title="statement not covered" >rest.join(':');</span> <span class="cstat-no" title="statement not covered" >if(!rawPath||!op) <span class="cstat-no" title="statement not covered" >return false;</span></span>
  // conveniences
<span class="cstat-no" title="statement not covered" >  if(rawPath==='source.fields' &amp;&amp; op==='contains') <span class="cstat-no" title="statement not covered" >return (manifest.source?.fields||[]).some(<span class="fstat-no" title="function not covered" >f=</span>&gt;<span class="cstat-no" title="statement not covered" >f.urn.includes(rhs))</span>;</span></span>
<span class="cstat-no" title="statement not covered" >  if(rawPath==='destination.fields' &amp;&amp; op==='contains') <span class="cstat-no" title="statement not covered" >return (manifest.destination?.fields||[]).some(<span class="fstat-no" title="function not covered" >f=</span>&gt;<span class="cstat-no" title="statement not covered" >f.urn.includes(rhs))</span>;</span></span>
<span class="cstat-no" title="statement not covered" >  if(rawPath==='mapping.rules' &amp;&amp; op==='contains') <span class="cstat-no" title="statement not covered" >return (manifest.mapping?.rules||[]).some(<span class="fstat-no" title="function not covered" >r=</span>&gt;<span class="cstat-no" title="statement not covered" >`${r.from}-&gt;${r.to}`.includes(rhs))</span>;</span></span>
  const lhs=<span class="cstat-no" title="statement not covered" >dget(manifest,rawPath.replace(/\[(\d+)\]/g,'.$1'));</span>
<span class="cstat-no" title="statement not covered" >  switch(op){</span>
    case ':=:': <span class="cstat-no" title="statement not covered" >return String(lhs)===rhs;</span>
    case 'contains': <span class="cstat-no" title="statement not covered" >return String(lhs??'').includes(rhs);</span>
    case '&gt;': <span class="cstat-no" title="statement not covered" >return Number(lhs)&gt;Number(rhs);</span>
    case '&lt;': <span class="cstat-no" title="statement not covered" >return Number(lhs)&lt;Number(rhs);</span>
    case '&gt;=': <span class="cstat-no" title="statement not covered" >return Number(lhs)&gt;=Number(rhs);</span>
    case '&lt;=': <span class="cstat-no" title="statement not covered" >return Number(lhs)&lt;=Number(rhs);</span>
    default: <span class="cstat-no" title="statement not covered" >return false;</span>
  }
}
&nbsp;
// ————————————————————————————————————————————————————————————————
// Normalize + Diff (structural + heuristics)
// ————————————————————————————————————————————————————————————————
function normalize(m){
  const n=clone(m||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>;
  n.contract_hash = hash({
    dir:n.integration?.direction, mode:n.integration?.mode,
    src:n.source?.kind_urns, dst:n.destination?.kind_urns
  });
  n.mapping_hash  = hash(n.mapping||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>;
  n.transport_hash= hash(n.transport||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>;
  n.gov_hash      = hash(n.governance||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>;
  return n;
}
function <span class="fstat-no" title="function not covered" >diff(</span>a,b){
  const A=<span class="cstat-no" title="statement not covered" >normalize(a),</span> B=<span class="cstat-no" title="statement not covered" >normalize(b);</span> const changes=<span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >  (function <span class="fstat-no" title="function not covered" >walk(</span>p,va,vb){</span>
<span class="cstat-no" title="statement not covered" >    if(JSON.stringify(va)===JSON.stringify(vb)) <span class="cstat-no" title="statement not covered" >return;</span></span>
    const isObj=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >v=</span>&gt;<span class="cstat-no" title="statement not covered" >v&amp;&amp;typeof v==='object';</span></span>
<span class="cstat-no" title="statement not covered" >    if(!isObj(va)||!isObj(vb)){ <span class="cstat-no" title="statement not covered" >changes.push({path:p,from:va,to:vb}); <span class="cstat-no" title="statement not covered" ></span>return; </span>}</span>
    const keys=<span class="cstat-no" title="statement not covered" >new Set([...Object.keys(va||{}),...Object.keys(vb||{})]);</span> <span class="cstat-no" title="statement not covered" >for(const k of keys) <span class="cstat-no" title="statement not covered" >walk(p?`${p}.${k}`:k, va?.[k], vb?.[k]);</span></span>
  })('',A,B);
  const breaking=<span class="cstat-no" title="statement not covered" >[],</span> significant=<span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >  for(const c of changes){</span>
<span class="cstat-no" title="statement not covered" >    if(c.path==='contract_hash') <span class="cstat-no" title="statement not covered" >breaking.push({...c,reason:'endpoint contract changed'});</span></span>
<span class="cstat-no" title="statement not covered" >    if(c.path==='mapping_hash') <span class="cstat-no" title="statement not covered" >significant.push({...c,reason:'mapping changed'});</span></span>
<span class="cstat-no" title="statement not covered" >    if(c.path==='transport_hash') <span class="cstat-no" title="statement not covered" >significant.push({...c,reason:'schedule/stream/retries changed'});</span></span>
<span class="cstat-no" title="statement not covered" >    if(c.path==='gov_hash') <span class="cstat-no" title="statement not covered" >significant.push({...c,reason:'governance changed'});</span></span>
  }
<span class="cstat-no" title="statement not covered" >  return { changes, breaking, significant };</span>
}
&nbsp;
// ————————————————————————————————————————————————————————————————
// Generators (docs/tests/visuals) — aligned with Event/Workflow style:contentReference[oaicite:11]{index=11}
// ————————————————————————————————————————————————————————————————
function <span class="fstat-no" title="function not covered" >generateMappingDoc(</span>m){
  const rows = <span class="cstat-no" title="statement not covered" >(m.mapping?.rules||[]).map(<span class="fstat-no" title="function not covered" >r=</span>&gt;<span class="cstat-no" title="statement not covered" >`- ${r.from} → ${r.to}${r.transform?` (transform: ${r.transform})`:''}${r.required?' [required]':''}`)</span>;</span>
<span class="cstat-no" title="statement not covered" >  return `# Mapping for ${m.integration?.name}\n` + rows.join('\n');</span>
}
function <span class="fstat-no" title="function not covered" >generateTestScenarios(</span>m){
  const tests=<span class="cstat-no" title="statement not covered" >[];</span>
  // reachability/contract probes against API dest if present
<span class="cstat-no" title="statement not covered" >  if(m.destination?.kind_urns?.api) <span class="cstat-no" title="statement not covered" >tests.push({ name:'api:reachability', kind:'http', expect:{ ok:true } });</span></span>
  // idempotency/dedupe hints
<span class="cstat-no" title="statement not covered" >  if(m.mapping?.ingestion?.idempotency==='key') <span class="cstat-no" title="statement not covered" >tests.push({ name:'idempotency:key', kind:'ingest', expect:{ no_duplicates:true } });</span></span>
<span class="cstat-no" title="statement not covered" >  return tests;</span>
}
function <span class="fstat-no" title="function not covered" >generateMermaid(</span>m){
  const lines=<span class="cstat-no" title="statement not covered" >['graph TD','  subgraph Integration'];</span>
  const id=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >s=</span>&gt;<span class="cstat-no" title="statement not covered" >String(s||'').replace(/[^a-zA-Z0-9_]/g,'_');</span></span>
  const me=<span class="cstat-no" title="statement not covered" >id(m.integration?.id||'int');</span>
  const src=<span class="cstat-no" title="statement not covered" >Object.values(m.source?.kind_urns||{}).find(Boolean)||'source';</span>
  const dst=<span class="cstat-no" title="statement not covered" >Object.values(m.destination?.kind_urns||{}).find(Boolean)||'destination';</span>
<span class="cstat-no" title="statement not covered" >  lines.push(`  ${me}[[${m.integration?.name||'integration'}]]`);</span>
<span class="cstat-no" title="statement not covered" >  lines.push(`  "SRC: ${src}" --&gt; ${me}`);</span>
<span class="cstat-no" title="statement not covered" >  lines.push(`  ${me} --&gt; "DST: ${dst}"`);</span>
<span class="cstat-no" title="statement not covered" >  lines.push('  end'); <span class="cstat-no" title="statement not covered" ></span>return lines.join('\n');</span>
}
function <span class="fstat-no" title="function not covered" >generateRunnerSkeleton(</span>m){
<span class="cstat-no" title="statement not covered" >  return `/** Minimal runner for: ${m.integration?.name}</span>
   * NOTE: Replace with your job/consumer framework.
   */
async function runOnce(fetchSrc, pushDst){
  // 1) fetch source (batch/stream adapter)
  const items = await fetchSrc();
  // 2) map/transform
  const out = items.map(x =&gt; {
    const o={};
    ${(m.mapping?.rules||[]).map(<span class="fstat-no" title="function not covered" >r=</span>&gt;<span class="cstat-no" title="statement not covered" >`o['${r.to}'] = ${r.transform?`${r.transform.replace(/`/g,'\\`')}`:`x['${r.from}']`};`)</span>.join('\n    ')}
    return o;
  });
  // 3) push destination
  await pushDst(out);
}
export { runOnce };`;
}
&nbsp;
// ————————————————————————————————————————————————————————————————
// Cross-protocol helpers (optional; zero-deps, pass the other manifests)
// ————————————————————————————————————————————————————————————————
function <span class="fstat-no" title="function not covered" >crossCheckWithAPI(</span>integration, apiManifest){
  const issues=<span class="cstat-no" title="statement not covered" >[];</span>
  // If destination is API, warn if auth/scopes look unmet (heuristic)
  const hasApiDest = <span class="cstat-no" title="statement not covered" >!!integration?.destination?.kind_urns?.api;</span>
<span class="cstat-no" title="statement not covered" >  if(hasApiDest &amp;&amp; !(apiManifest?.interface?.endpoints||[]).length){</span>
<span class="cstat-no" title="statement not covered" >    issues.push({msg:'API manifest has no endpoints', level:'warn'});</span>
  }
<span class="cstat-no" title="statement not covered" >  return { ok: issues.length===0, issues };</span>
}
function <span class="fstat-no" title="function not covered" >crossCheckWithData(</span>integration, dataManifest){
  const issues=<span class="cstat-no" title="statement not covered" >[];</span>
  const fields = <span class="cstat-no" title="statement not covered" >new Set(Object.keys(dataManifest?.schema?.fields||{}));</span> // Data shape
<span class="cstat-no" title="statement not covered" >  for(const r of (integration.mapping?.rules||[])){</span>
    const fromFrag = <span class="cstat-no" title="statement not covered" >(r.from.split('#')[1]||'').split('.')[0];</span>
    const toFrag   = <span class="cstat-no" title="statement not covered" >(r.to.split('#')[1]||'').split('.')[0];</span>
<span class="cstat-no" title="statement not covered" >    if(fromFrag &amp;&amp; !fields.has(fromFrag)) <span class="cstat-no" title="statement not covered" >issues.push({msg:`source field not found in data schema: ${fromFrag}`, level:'warn'});</span></span>
<span class="cstat-no" title="statement not covered" >    if(toFrag   &amp;&amp; !fields.has(toFrag))   <span class="cstat-no" title="statement not covered" >issues.push({msg:`destination field not found in data schema: ${toFrag}`, level:'warn'});</span></span>
  }
<span class="cstat-no" title="statement not covered" >  return { ok: issues.length===0, issues };</span>
}
function <span class="fstat-no" title="function not covered" >crossCheckWithEvent(</span>integration, eventManifest){
  const issues=<span class="cstat-no" title="statement not covered" >[];</span>
  // If using event payload fields, ensure they exist
  const props = <span class="cstat-no" title="statement not covered" >Object.keys(eventManifest?.schema?.payload?.properties||{});</span>
<span class="cstat-no" title="statement not covered" >  for(const f of (integration.source?.fields||[])){</span>
<span class="cstat-no" title="statement not covered" >    if(f.urn.includes('proto:event:') &amp;&amp; f.urn.includes('#')){</span>
      const p=<span class="cstat-no" title="statement not covered" >f.urn.split('#')[1].replace(/^payload\./,'');</span>
<span class="cstat-no" title="statement not covered" >      if(props.length &amp;&amp; !props.includes(p)) <span class="cstat-no" title="statement not covered" >issues.push({msg:`event payload field not found: ${p}`, level:'warn'});</span></span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return { ok: issues.length===0, issues };</span>
}
&nbsp;
// ————————————————————————————————————————————————————————————————
// Protocol + Catalog factories
// ————————————————————————————————————————————————————————————————
function createIntegrationProtocol(manifestInput=<span class="branch-0 cbranch-no" title="branch not covered" >{})</span>{
  const manifest=normalize(manifestInput);
  return Object.freeze({
    manifest:()=&gt;clone(manifest),
    validate:(names=[])=&gt;runValidators(manifest,names),
    match:<span class="fstat-no" title="function not covered" >(e</span>xpr)=&gt;<span class="cstat-no" title="statement not covered" >query(manifest,expr),</span>
    diff:<span class="fstat-no" title="function not covered" >(o</span>ther)=&gt;<span class="cstat-no" title="statement not covered" >diff(manifest, other?.manifest? other.manifest(): other),</span>
    // generators
    generateMappingDoc:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >generateMappingDoc(manifest),</span>
    generateTestScenarios:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >generateTestScenarios(manifest),</span>
    generateMermaid:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >generateMermaid(manifest),</span>
    generateRunnerSkeleton:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >generateRunnerSkeleton(manifest),</span>
    // cross-checks
    crossCheckWithAPI:<span class="fstat-no" title="function not covered" >(a</span>piManifest)=&gt;<span class="cstat-no" title="statement not covered" >crossCheckWithAPI(manifest,apiManifest),</span>
    crossCheckWithData:<span class="fstat-no" title="function not covered" >(d</span>ataManifest)=&gt;<span class="cstat-no" title="statement not covered" >crossCheckWithData(manifest,dataManifest),</span>
    crossCheckWithEvent:<span class="fstat-no" title="function not covered" >(e</span>ventManifest)=&gt;<span class="cstat-no" title="statement not covered" >crossCheckWithEvent(manifest,eventManifest),</span>
    // mutation
    set:<span class="fstat-no" title="function not covered" >(p</span>ath,val)=&gt;{ const m=<span class="cstat-no" title="statement not covered" >clone(manifest);</span> <span class="cstat-no" title="statement not covered" >dset(m,path,val); <span class="cstat-no" title="statement not covered" ></span>return createIntegrationProtocol(m); </span>}
  });
}
&nbsp;
function <span class="fstat-no" title="function not covered" >createIntegrationCatalog(</span>protocols=<span class="branch-0 cbranch-no" title="branch not covered" >[])</span>{
  const items=<span class="cstat-no" title="statement not covered" >protocols;</span> const asManifests=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >items.map(<span class="fstat-no" title="function not covered" >p=</span>&gt;<span class="cstat-no" title="statement not covered" >p.manifest())</span>;</span></span>
  function <span class="fstat-no" title="function not covered" >find(</span>expr){ <span class="cstat-no" title="statement not covered" >return items.filter(<span class="fstat-no" title="function not covered" >p=</span>&gt;<span class="cstat-no" title="statement not covered" >p.match(expr))</span>; </span>}
  function <span class="fstat-no" title="function not covered" >validateAll(</span>names=<span class="branch-0 cbranch-no" title="branch not covered" >[])</span> { <span class="cstat-no" title="statement not covered" >return asManifests().map(<span class="fstat-no" title="function not covered" >m=</span>&gt;(<span class="cstat-no" title="statement not covered" >{ id:m.integration?.id, ...runValidators(m,names) })</span>); </span>}
  function <span class="fstat-no" title="function not covered" >schedulePlan(</span>){
    // naive: list batch cron jobs + stream brokers/topics
<span class="cstat-no" title="statement not covered" >    return asManifests().map(<span class="fstat-no" title="function not covered" >m=</span>&gt;(<span class="cstat-no" title="statement not covered" >{</span></span>
      id:m.integration?.id,
      mode:m.integration?.mode,
      cron:m.transport?.batch?.expression||null,
      stream:m.transport?.stream?.topic||null
    }));
  }
<span class="cstat-no" title="statement not covered" >  return Object.freeze({ items, find, validateAll, schedulePlan });</span>
}
&nbsp;
// ————————————————————————————————————————————————————————————————
// Exports
// ————————————————————————————————————————————————————————————————
export {
  createIntegrationProtocol,
  createIntegrationCatalog,
  registerValidator,
  Validators,
  // low-level helpers
  query, normalize, diff,
  generateMappingDoc, generateTestScenarios, generateMermaid, generateRunnerSkeleton,
  crossCheckWithAPI, crossCheckWithData, crossCheckWithEvent,
};
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-13T19:01:23.402Z
            </div>
        <script src="../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../sorter.js"></script>
        <script src="../../../../block-navigation.js"></script>
    </body>
</html>
    